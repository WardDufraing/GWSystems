---
import { navigation } from "../../data/navigation";
import { company } from "../../data/company";

const pathname = Astro.url.pathname;

const isActive = (href: string) => {
  if (href === "/") return pathname === "/";
  return pathname.startsWith(href);
};
---

<nav class="header__nav" aria-label="Hoofdnavigatie">
  <ul class="header__nav-list">
    {navigation.pages.map((item) => {
      const active = isActive(item.href);
      return (
        <li class="header__nav-item">
          <a
            class={`header__nav-link ${active ? "is-active" : ""}`}
            href={item.href}
            aria-current={active ? "page" : undefined}
          >
            {item.label}
          </a>
        </li>
      );
    })}
  </ul>

  <a class="header__cta btn btn--brand" href={company.cta.primary.href}>
    {company.cta.primary.label}
  </a>
</nav>
