
@use 'variables.scss' as *;
@use 'sass:color';

/* ====== Tunables ====== */
:root {
    --glass-bg: hsla(0 0% 100% / 0.08);        /* frosted fill */
    --glass-tint: hsla(210 90% 60% / 0.08);    /* faint color tint; match your brand hue */
    --glass-blur: 18px;                        /* backdrop blur radius */
    --glass-radius: 22px;
    --glass-border: 1px;
    --glass-border-outer: hsla(0 0% 100% / 0.14);
    --glass-border-inner: hsla(0 0% 100% / 0.35);
    --glass-shadow: 0 10px 30px -10px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.08) inset;
    --glass-noise-opacity: .05;                /* increase for stronger grain */
    --glare-duration: 3s;
    --glare-delay: 2s;
  }

section.hero {
    overflow: hidden;
    display: grid;
    grid-gap: 1rem;
    place-items: center;

    @media screen and (min-width: 1024px) {
        min-height: 60vh;
    }

    /* Optional: if your background lives here, this prevents stacking issues */
    .hero-bg {
        position: absolute;
        inset: 0;
        z-index: 0;
        background-image: url('../assets/images/BackgroundAssets/Background_Abstract_3.png');
        background-repeat: no-repeat;
        background-size: 50%;
        background-position: -30% 0%;
    }

    /* ====== Glass card ====== */
    .glass-card {
        z-index: 10;
        text-align: left;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        &::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            background:
              radial-gradient(120% 100% at 50% -20%, rgba(255,255,255,.16), transparent 50%) /* top bloom */,
              radial-gradient(90% 60% at 50% 100%, rgba(255,255,255,.06), transparent 70%)   /* bottom lift */;
            mix-blend-mode: screen;
        }
        /* Hairline “chromatic” rim using a gradient stroke */
        .glass-border {
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            -webkit-mask:
                linear-gradient(#000 0 0) content-box,
                linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask:
                linear-gradient(#000 0 0) content-box,
                linear-gradient(#000 0 0);
            mask-composite: exclude;
            padding: var(--glass-border);
            background:
                conic-gradient(from 180deg at 50% 50%,
                hsla(0 0% 100% / .6),
                hsla(200 80% 70% / .5),
                hsla(300 80% 70% / .4),
                hsla(0 0% 100% / .6) 360deg);
            opacity: .65;
        }

        /* Super-faint grain so it feels like a surface, not a PNG */
        .glass-noise {
            position: absolute;
            inset: -50%;
            pointer-events: none;
            background-image:
            radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,.5), transparent),
            radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,.5), transparent),
            radial-gradient(1px 1px at 80% 20%, rgba(255,255,255,.5), transparent),
            radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.5), transparent);
            background-size: 180px 180px, 190px 190px, 200px 200px, 210px 210px;
            opacity: var(--glass-noise-opacity);
            filter: contrast(120%);
            mix-blend-mode: overlay;
        }
        
        /* ====== One-time glare sweep on load ====== */
        .glass-glare {
            position: absolute;
            inset: -20% -60%;
            pointer-events: none;
            transform: rotate(8deg) skewX(-12deg);
            background:
            linear-gradient(90deg,
                transparent 0%,
                rgba(255,255,255,.02) 20%,
                rgba(255,255,255,.45) 48%,
                rgba(255,255,255,.06) 60%,
                transparent 75%);
            filter: blur(6px);
            opacity: 0;
            animation: glare-sweep var(--glare-duration) cubic-bezier(.18,.72,.15,1) var(--glare-delay) 1 both;
        }

        h1{
            font-size: 2rem;
            text-shadow: 1px 1px 2px $accent-color;
            font-weight: normal;
            @media screen and (min-width: 636px) {
                font-size: 3.5rem;
            }   
            @media screen and (min-width: 1024px) {
            }
            @media screen and (min-width: 1224px) {
            }
        }

        .cta{
            padding: 1em 0px;
        }
    }
  }

  @keyframes glare-sweep {
    0%   { transform: translateX(-40%) rotate(8deg) skewX(-12deg); opacity: 0; }
    12%  { opacity: .8; }
    45%  { opacity: .85; }
    100% { transform: translateX(110%) rotate(8deg) skewX(-12deg); opacity: 0; }
  }

/* ====== Services Section ====== */
section.services{
    position: relative;
    isolation: isolate;

    .wrap {
        margin: 0 auto;

        /* -------- header ---------- */
        .services-head {
            text-align: center;
            max-width: 800px;
            margin: 0 auto clamp(28px, 5vw, 48px);
            .eyebrow {
                letter-spacing: .18em;
                text-transform: uppercase;
                font-size: .8rem;
                opacity: .7;
                margin-bottom: .4rem;
            }

            h2{
                font-size: clamp(1.8rem, 3.2vw, 2.4rem);
                letter-spacing: -0.015em;
                margin: 0 0 .6rem;
            }

            .lead {
                opacity: .8;
            }
        }

        /* -------- grid ---------- */
        .service-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: clamp(14px, 2.4vw, 22px);
            margin: 0;
            padding: 0;

            .service-card {
                list-style: none;
                grid-column: span 12;
                position: relative;
                padding: clamp(18px, 2.2vw, 28px);
                background:
                  linear-gradient(0deg, hsla(0 0% 100% / .06), hsla(0 0% 100% / .02));
                -webkit-backdrop-filter: blur(14px);
                backdrop-filter: blur(14px);
                box-shadow: 0 10px 30px -12px rgba(0,0,0,.35);
                overflow: hidden;
                border: 1px solid rgba(255,255,255,.12);
                transform: translateZ(0); /* kicks in GPU for smoother hover */
                
                &.popular {
                    background:
                      linear-gradient(0deg, hsla(210 90% 60% / .10), hsla(0 0% 100% / .03));
                    border-color: rgba(255,255,255,.18);
                }

                .badge {
                    position: absolute;
                    top: 12px; left: 12px;
                    font-size: .72rem;
                    letter-spacing: .08em;
                    text-transform: uppercase;
                    background: rgba(255,255,255,.08);
                    border: 1px solid rgba(255,255,255,.18);
                    padding: 4px 8px;
                    border-radius: 999px;
                    backdrop-filter: blur(6px);
                }
                
                /* -------- content ---------- */
                .icon {
                    width: 48px; height: 48px;
                    display: grid; place-items: center;
                    border-radius: 14px;
                    background:
                    radial-gradient(120% 120% at 10% 0%, rgba(255,255,255,.2), transparent),
                    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.04));
                    border: 1px solid rgba(255,255,255,.18);
                    margin: .8rem auto;
                }
                h3 {
                    margin: 0 0 .2rem;
                    font-size: clamp(1.05rem, 1.6vw, 1.25rem);
                    letter-spacing: -0.01em;
                }

                .sub {
                    margin: 0 0 .7rem;
                    opacity: .85;
                }
                .bullets {
                    margin: 0 0 .9rem; padding-left: 1.1rem;
                    display: grid; gap: .25rem;
                    text-align: left;
                }
                .text-link {
                    display: inline-flex; align-items: center; gap: .4rem;
                    text-decoration: none;
                    border-bottom: 1px dashed rgba(255,255,255,.35);
                    color: rgba(255,255,255,.85);
                    transition: color .25s ease, border-color .25s ease, transform .25s ease;
                    padding-bottom: 2px;
                    opacity: .9;

                    &:hover{
                        color: rgba(255,255,255,1);
                        border-color: rgba(255,255,255,.5);
                        transform: translateX(2px);
                    }
                    &:focus-visible {
                        outline: 2px solid rgba(255,255,255,.5);
                        outline-offset: 2px;
                        border-color: transparent;
                    }
                }

                /* Interaction */
                transition: transform .36s cubic-bezier(.2,.8,.2,1), box-shadow .36s ease, border-color .36s ease;
                &:hover {
                    transform: translateY(-4px);
                    box-shadow: 0 22px 50px -20px rgba(0,0,0,.5);
                    border-color: rgba(255,255,255,.24);
                }
                &:focus-within { 
                    outline: 2px solid rgba(255,255,255,.5); 
                    outline-offset: 2px; 
                }

                @media (min-width: 680px) {
                    grid-column: span 6;
                }
                @media (min-width: 1024px) {
                    grid-column: span 3;
                }
            }
        }

        /* CTA row */
        .services-cta{
            display: flex; gap: .8rem; justify-content: center;
            margin-top: clamp(20px, 4vw, 36px);
        }
    }
}

section.process{
    position: relative;
    isolation: isolate;

    .wrap { 
        text-align: center;
        margin: 0 auto; 
        .process-head { 
            text-align: center; 
            max-width: 800px; 
            margin: 0 auto clamp(28px, 5vw, 48px); 
            .eyebrow {
                letter-spacing: .18em;
                text-transform: uppercase;
                font-size: .8rem;
                opacity: .7;
                margin-bottom: .4rem;
            }

            h2 { 
                font-size: clamp(1.8rem, 3.2vw, 2.4rem); 
                letter-spacing: -0.015em; 
                margin: 0 0 .6rem; 
            }

            .lead { 
                opacity: .8; 
            }
        }

        /* Progress line */
        .progress-wrap {
            position: relative;
            max-width: 1050px;
            margin: 0 auto clamp(22px, 4vw, 32px);
            height: 2px;
            background: linear-gradient(90deg, rgba(255,255,255,.08), rgba(255,255,255,.08));
            overflow: hidden;
            border-radius: 999px;
            .progress-line {
                position: absolute; inset: 0 auto 0 0;
                width: 0%;
                background: linear-gradient(90deg,
                  rgba(255,255,255,.0) 0%,
                  rgba(255,255,255,.6) 30%,
                  rgba(255,255,255,.9) 60%,
                  rgba(255,255,255,.3) 100%);
                box-shadow: 0 0 16px rgba(255,255,255,.45);
                animation: progress-grow 1.2s cubic-bezier(.18,.72,.15,1) .15s 1 both;
                @media (prefers-reduced-motion: reduce) {
                    animation: none; width: 100%;
                }
            }
        }

        /* Grid */
        .process-steps {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: clamp(14px, 2.4vw, 22px);
            margin: 0; padding: 0;

            .step {
                list-style: none;
                grid-column: span 12;
                position: relative;
                padding: clamp(18px, 2.2vw, 28px);
                background:
                  linear-gradient(0deg, hsla(0 0% 100% / .06), hsla(0 0% 100% / .02));
                -webkit-backdrop-filter: blur(14px);
                backdrop-filter: blur(14px);
                border: 1px solid rgba(255,255,255,.12);
                box-shadow: 0 10px 30px -12px rgba(0,0,0,.35);
                overflow: hidden;
                /* Interaction */
                transition: transform .36s cubic-bezier(.2,.8,.2,1), box-shadow .36s ease, border-color .36s ease;
                &:hover {
                    transform: translateY(-4px);
                    box-shadow: 0 22px 50px -20px rgba(0,0,0,.5);
                    border-color: rgba(255,255,255,.24);
                }
                &:focus-within { 
                    outline: 2px solid rgba(255,255,255,.5); 
                    outline-offset: 2px; 
                }

                /* Step header */
                .step-head {
                    display: flex; align-items: center; gap: .7rem;
                    margin-bottom: .4rem;
                    .step-index {
                        display: grid; place-items: center;
                        width: 34px; height: 34px;
                        border-radius: 10px;
                        font-weight: 700;
                        letter-spacing: .02em;
                        background:
                        radial-gradient(120% 120% at 10% 0%, rgba(255,255,255,.25), transparent),
                        linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.05));
                        border: 1px solid rgba(255,255,255,.22);
                        box-shadow: 0 6px 16px -8px rgba(0,0,0,.5);
                    }

                    h3{
                        margin: 0;
                        font-size: clamp(1.02rem, 1.4vw, 1.18rem); 
                        letter-spacing: -0.01em;
                    }
                }
                .sub { 
                    margin: .2rem 0 .7rem; 
                    opacity: .85; 
                }
                .bullets { 
                    margin: 0 0 .9rem; 
                    padding-left: 1.1rem; 
                    display: grid; gap: .25rem; 
                    text-align: left;
                }
                .meta { 
                    opacity: .65; 
                }

                @media (min-width: 880px) {
                    grid-column: span 3;
                }
            }
        }

        /* Buttons reuse your existing .btn styles */
        .process-cta{
            display:flex; 
            gap:.8rem; 
            justify-content:center; 
            margin-top:clamp(20px,4vw,36px);
        }  
    }
}

@keyframes progress-grow {
    to { width: 100%; }
}


section.content{
    text-align: center;
    display: flex;
    grid-gap: 1rem;
    place-items: center;
    flex-direction: column;
    @media screen and (min-width: 1024px) {
        flex-direction: row;
        text-align: left;
        justify-content: space-between;
    }
    @media screen and (min-width: 1224px) {
    }

    .contentImage{
        width: 100%;
        max-width: 80vw;
        height: auto;
        @media screen and (min-width: 1024px) {
            width: 100%;
            max-width: 30vw;
            height: auto;
        }
    }
}